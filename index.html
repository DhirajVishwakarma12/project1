<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Legarium - Welcome</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 0;
            background-color: #eef1f5; /* Desktop background */
            font-family: 'Segoe UI', sans-serif;
            color: white;
            height: 100vh; /* Full viewport height */
            width: 100vw;
            overflow: hidden; /* Prevent body scrollbars */
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* App Container - The "Phone" Screen */
        .app-container {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1e1b4b 0%, #312e81 100%); /* Indigo Theme */
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        /* Desktop Simulation: Limits size to look like a mobile app */
        @media (min-width: 768px) {
            .app-container {
                width: 400px; /* Standard mobile width */
                height: 800px; /* Standard mobile height */
                border-radius: 20px;
                box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            }
        }

        #canvas-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 2;
            pointer-events: none; /* Let clicks pass through to the link layer */
            width: 100%;
            padding: 0 20px;
        }

        .app-title {
            font-size: 3rem;
            font-weight: 800;
            letter-spacing: 4px;
            background: linear-gradient(to right, #fbbf24, #d97706); /* Gold Gradient */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 4px 20px rgba(0,0,0,0.5);
            opacity: 0;
            animation: fadeInUp 1s ease-out 0.5s forwards;
            margin-bottom: 5px;
        }

        .subtitle {
            font-size: 0.9rem;
            color: #cbd5e1;
            letter-spacing: 3px;
            text-transform: uppercase;
            opacity: 0;
            animation: fadeIn 1s ease-out 1.2s forwards;
        }

        .tap-hint {
            margin-top: 40px;
            font-size: 0.85rem;
            opacity: 0;
            animation: fadeInPulse 2s ease-in-out 2s infinite;
        }

        /* Invisible clickable layer covering the whole screen */
        .click-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 10;
            cursor: pointer;
            text-decoration: none; /* Removes underline */
        }

        /* Animations */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes fadeInPulse {
            0% { opacity: 0.3; }
            50% { opacity: 0.8; }
            100% { opacity: 0.3; }
        }
    </style>
</head>
<body>

    <div class="app-container">
        <div id="canvas-container"></div>
        
        <div class="overlay">
            <h1 class="app-title">LEGARIUM</h1>
            <p class="subtitle">Justice Reimagined</p>
            <p class="tap-hint">Tap anywhere to enter</p>
        </div>

        <a href="page2.html" class="click-layer" aria-label="Enter Legarium App"></a>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <script>
        // --- THREE.JS SETUP ---
        const container = document.getElementById('canvas-container');
        const appContainer = document.querySelector('.app-container');
        
        const scene = new THREE.Scene();
        // Fog blends the floor into the deep indigo background
        scene.fog = new THREE.FogExp2(0x1e1b4b, 0.035);

        // Camera Setup
        const camera = new THREE.PerspectiveCamera(60, appContainer.clientWidth / appContainer.clientHeight, 0.1, 1000);
        camera.position.z = 6;

        // Renderer Setup
        const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
        renderer.setSize(appContainer.clientWidth, appContainer.clientHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2)); // Optimize performance
        container.appendChild(renderer.domElement);

        // --- LIGHTING ---
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
        scene.add(ambientLight);

        const pointLight = new THREE.PointLight(0xffd700, 1.5, 50); // Gold light
        pointLight.position.set(5, 5, 5);
        scene.add(pointLight);

        // --- OBJECTS (Logo Concept) ---
        const group = new THREE.Group();

        // 1. Wireframe Outer Shell (Gold)
        const geometry = new THREE.IcosahedronGeometry(2, 0);
        const material = new THREE.MeshStandardMaterial({ 
            color: 0xFFD700, 
            metalness: 0.9,
            roughness: 0.1,
            wireframe: true 
        });
        const shape = new THREE.Mesh(geometry, material);

        // 2. Solid Inner Core (Indigo)
        const coreGeometry = new THREE.IcosahedronGeometry(1.5, 0);
        const coreMaterial = new THREE.MeshStandardMaterial({
            color: 0x4F46E5, 
            metalness: 0.5,
            roughness: 0.5,
            transparent: true,
            opacity: 0.9
        });
        const core = new THREE.Mesh(coreGeometry, coreMaterial);

        group.add(shape);
        group.add(core);
        scene.add(group);

        // --- ANIMATION LOOP ---
        function animate() {
            requestAnimationFrame(animate);

            // Rotate object
            group.rotation.x += 0.002;
            group.rotation.y += 0.004;

            // Float object
            group.position.y = Math.sin(Date.now() * 0.001) * 0.2;

            renderer.render(scene, camera);
        }

        animate();

        // --- ROBUST RESIZE HANDLER ---
        // Updates the camera and renderer when the browser window changes size
        window.addEventListener('resize', () => {
            if (appContainer) {
                const width = appContainer.clientWidth;
                const height = appContainer.clientHeight;
                
                camera.aspect = width / height;
                camera.updateProjectionMatrix();
                renderer.setSize(width, height);
            }
        });
    </script>
</body>
</html>